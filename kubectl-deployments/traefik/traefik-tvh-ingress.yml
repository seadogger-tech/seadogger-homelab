# traefik-tvh-ingress.yml

---
# HTTP route (optional; keep if you want plain HTTP reachable)
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: tvh-http
  namespace: tvh
spec:
  entryPoints: ["web"]
  routes:
    - match: Host(`tvh.seadogger-homelab`)
      kind: Rule
      services:
        - name: tvheadend
          port: 9981

---
# HTTPS route with TLS
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: tvh-https
  namespace: tvh
spec:
  entryPoints: ["websecure"]
  routes:
    - match: Host(`tvh.seadogger-homelab`)
      kind: Rule
      services:
        - name: tvheadend
          port: 9981
  tls:
    secretName: tvh-local-tls
